<link rel="import" href="bower_components/polymer/polymer-element.html">
<link rel="import" href="bower_components/paper-button/paper-button.html">


<dom-module id="my-el">
  <template>
 
    <paper-button id="paper_button" on-click="changeText">Przycisk</paper-button>

  </template>

  <script>
    /**
     * `my-el`
     * 
     *
     * @customElement
     * @polymer
     * @demo demo/index.html
     */
    class MyEl extends Polymer.Element {
      static get is() { return 'my-el'; }
      static get properties() {
        return {
          prop1: {
            type: String,
            value: 'my-el'
          }
        };
      }
      changeText(){
          var button=this.$.paper_button;
          button.textContent="zmieniony";

          const url="http://localhost:3000/convert";
          const db="http://localhost:3000/screenshots";
          const name = "test.png";
          const data={
              url : window.location.href.toString(),
              name : name
          };
          const for_database={
              title : name
          };
          fetch(url, {
              body: JSON.stringify(data),
              headers: {

                  'content-type': 'application/json'
              },
              method: 'POST',
              mode: 'cors'
          }).then(response => console.log(response));
          fetch(db, {
              body: JSON.stringify(for_database),
              headers: {
                  'content-type': 'application/json'
              },
              method: 'POST',
              mode: 'cors'
          }).then(response => console.log(response))

    }
    }

    window.customElements.define(MyEl.is, MyEl);
  </script>
</dom-module>
